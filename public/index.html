<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="KSRTC Management System for easy booking and route management.">
    <title>KSRTC Management</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <h2>Login</h2>
            <form id="login-form">
                <label for="username">Username:</label>
                <input type="text" id="username" name="username" placeholder="Enter your username" required>

                <label for="password">Password:</label>
                <input type="password" id="password" name="password" placeholder="Enter your password" required>

                <button type="submit" id="login-button" class="primary-button" aria-label="Login to KSRTC">Login</button>
                <button type="button" onclick="document.getElementById('login-modal').classList.add('hidden')">Close</button>
            </form>
        </div>
    </div>

    <main id="main-content" class="hidden">
        <header>
            <h1>KSRTC Management System</h1>
        </header>

        <section id="search-routes">
            <h2>Search KSRTC Routes</h2>
            <form id="search-form">
                <label for="source">Source:</label>
                <select id="source" name="source" required>
                    <option value="" disabled selected>Select Source</option>
                </select>

                <label for="destination">Destination:</label>
                <select id="destination" name="destination" required>
                    <option value="" disabled selected>Select Destination</option>
                </select>

                <label for="date">Travel Date:</label>
                <input type="date" id="date" name="date" required min="${new Date().toISOString().split('T')[0]}">

                <button type="submit" class="primary-button" aria-label="Search for KSRTC routes">Search</button>
            </form>
        </section>

        <section id="routes-list" class="hidden">
            <h3>Available Routes</h3>
            <table>
                <thead>
                    <tr>
                        <th>S.No</th>
                        <th>Source</th>
                        <th>Destination</th>
                        <th>Date and Time</th>
                        <th>Action</th>
                        <th>Details</th>
                    </tr>
                </thead>
                <tbody id="routes-table-body">
                    <!-- Routes will be populated here -->
                </tbody>
            </table>
        </section>

        <section id="bookings-table" class="hidden">
            <h2>Bookings</h2>
            <table>
                <thead>
                    <tr>
                        <th>Ticket ID</th>
                        <th>Passenger Name</th>
                        <th>Contact</th>
                        <th>Seat Number</th>
                        <th>Source</th>
                        <th>Destination</th>
                    </tr>
                </thead>
                <tbody id="bookings-list">
                    <!-- Bookings will be populated here -->
                </tbody>
            </table>
        </section>
    </main>

    <div id="booking-modal" class="modal hidden">
        <div class="modal-content">
            <h2>Book Your Ticket</h2>
            <form id="booking-form">
                <label for="passenger-name">Name:</label>
                <input type="text" id="passenger-name" name="passenger-name" placeholder="Enter your name" required>

                <label for="contact">Contact Number:</label>
                <input type="text" id="contact" name="contact" placeholder="Enter your contact number" required>

                <label for="seat-number">Seat Number:</label>
                <input type="text" id="seat-number" name="seat-number" placeholder="Enter your seat number" required>

                <button type="submit" class="primary-button" aria-label="Submit booking form">Book Ticket</button>
                <button type="button" class="secondary-button" aria-label="Cancel booking" onclick="document.getElementById('booking-modal').classList.add('hidden')">Cancel</button>
            </form>
        </div>
    </div>

    <div id="details-modal" class="modal hidden">
        <div class="modal-content">
            <h2>Route Details</h2>
            <div id="details-content">
                <!-- Details will be dynamically loaded here -->
            </div>
            <button type="button" class="secondary-button" onclick="document.getElementById('details-modal').classList.add('hidden')">Close</button>
        </div>
    </div>

    <div id="error-message" class="hidden"></div>
    <div id="loading-indicator" class="hidden">Loading...</div>

    <script src="script.js"></script>
</body>
</html>
